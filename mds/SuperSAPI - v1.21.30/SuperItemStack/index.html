<!DOCTYPE html>
<html lang="zh_CN" data-theme-mode="light" data-light-theme="daylight" data-dark-theme="midnight">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <script src="../stage/protyle/js/lute/lute.min.js"></script>
  <script src="../stage/protyle/js/protyle-html.js?v=3.0.5"></script>
  <link rel="stylesheet" type="text/css" id="baseStyle" href="stage/build/export/base.css?3.1.9" />
  <link rel="stylesheet" type="text/css" id="themeDefaultStyle" href="../appearance/themes/daylight/theme.css?3.1.9" />
  <link rel="stylesheet" href="../../../styles.css">
  <title>SuperItemStack</title>
  <!-- Exported by SiYuan v3.1.9 -->
  <style>
    body {
      font-family: var(--b3-font-family);
      background-color: var(--b3-theme-background);
      color: var(--b3-theme-on-background)
    }

    .b3-typography,
    .protyle-wysiwyg,
    .protyle-title {
      font-size: 16px !important
    }

    .b3-typography code:not(.hljs),
    .protyle-wysiwyg span[data-type~=code] {
      font-variant-ligatures: none
    }

    .li>.protyle-action {
      height: 34px;
      line-height: 34px
    }

    .protyle-wysiwyg [data-node-id].li>.protyle-action~.h1,
    .protyle-wysiwyg [data-node-id].li>.protyle-action~.h2,
    .protyle-wysiwyg [data-node-id].li>.protyle-action~.h3,
    .protyle-wysiwyg [data-node-id].li>.protyle-action~.h4,
    .protyle-wysiwyg [data-node-id].li>.protyle-action~.h5,
    .protyle-wysiwyg [data-node-id].li>.protyle-action~.h6 {
      line-height: 34px;
    }

    .protyle-wysiwyg [data-node-id].li>.protyle-action:after {
      height: 16px;
      width: 16px;
      margin: -8px 0 0 -8px
    }

    .protyle-wysiwyg [data-node-id].li>.protyle-action svg {
      height: 14px
    }

    .protyle-wysiwyg [data-node-id].li:before {
      height: calc(100% - 34px);
      top: 34px
    }

    .protyle-wysiwyg [data-node-id] [spellcheck] {
      min-height: 26px;
    }

    .protyle-wysiwyg .p,
    .protyle-wysiwyg .code-block .hljs,
    .protyle-wysiwyg .table,
    .protyle-wysiwyg .render-node protyle-html,
    .protyle-wysiwyg .render-node>div[spin="1"],
    .protyle-wysiwyg [data-type="NodeHeading"] {}

    .protyle-wysiwyg [data-node-id] {}

    .protyle-wysiwyg .li {
      min-height: 34px
    }

    .protyle-gutters button svg {
      height: 26px
    }
  </style>
</head>

<body>
  <div class="protyle-wysiwyg protyle-wysiwyg--attr" style="max-width: 1200px;margin: 0 auto;" id="preview">
    <div data-subtype="h1" data-node-id="20241016205055-94416az" data-type="NodeHeading" class="h1"
      id="20241016205055-94416az" title="SuperItemStack" updated="20241016210652">
      <div contenteditable="false" spellcheck="false">SuperItemStack</div>
      <div class="protyle-attr" contenteditable="false"></div>
    </div>
    <div data-node-id="20241016210329-4p6dsfx" data-type="NodeBlockquote" class="bq" id="20241016210329-4p6dsfx"
      updated="20241016210330">
      <div data-node-id="20241016210305-8kaaw8h" data-type="NodeParagraph" class="p" updated="20241016210330"
        id="20241016210305-8kaaw8h">
        <div contenteditable="false" spellcheck="false">
          这个类通过这些成员变量和函数，实现了对物品的自定义组件管理、物品使用逻辑以及物品操作等功能，使得物品的行为和属性可以被灵活地管理和扩展。</div>
        <div class="protyle-attr" contenteditable="false"></div>
      </div>
      <div class="protyle-attr" contenteditable="false"></div>
    </div>
    <div data-subtype="h3" data-node-id="20241016210305-w53fg2w" data-type="NodeHeading" class="h3"
      id="20241016210305-w53fg2w" updated="20241016210652">
      <div contenteditable="false" spellcheck="false">成员函数</div>
      <div class="protyle-attr" contenteditable="false"></div>
    </div>
    <div data-node-id="20241016210305-4t1bnaa" data-type="NodeTable" class="table" id="20241016210305-4t1bnaa"
      updated="20241016210652" colgroup="|">
      <div contenteditable="false">
        <table contenteditable="false" spellcheck="false">
          <colgroup>
            <col />
            <col />
          </colgroup>
          <thead>
            <tr>
              <th>成员函数</th>
              <th>描述</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>​<span data-type="code">constructor(source_instance: mc.ItemStack)</span>​</td>
              <td>构造函数，初始化物品堆实例，包括原生物品堆实例、自定义组件和计时器。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get amount(): number</span>​</td>
              <td>获取物品堆的数量。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get isStackable(): boolean</span>​</td>
              <td>判断物品堆是否可堆叠。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get keepOnDeath(): boolean</span>​</td>
              <td>判断物品在玩家死亡时是否保留。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get lockMode(): mc.ItemLockMode</span>​</td>
              <td>获取物品的锁定模式。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get maxAmount(): number</span>​</td>
              <td>获取物品堆的最大数量。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get nameTag(): string</span>​</td>
              <td>获取物品的名称标签。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get type(): mc.ItemType</span>​</td>
              <td>获取物品的类型。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">get typeId(): string</span>​</td>
              <td>获取物品的类型ID。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onSwitchIn(player: SuperPlayer)</span>​</td>
              <td>当物品切换到玩家手中时，调用此方法。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onSwitchOut(player: SuperPlayer)</span>​</td>
              <td>当物品从玩家手中切换出去时，调用此方法。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onHand(player: SuperPlayer)</span>​</td>
              <td>物品在玩家手中的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onAttack(player: SuperPlayer, target: SuperEntity)</span>​</td>
              <td>物品被用于攻击时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onUse(player: SuperPlayer)</span>​</td>
              <td>物品被使用时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onUseOn(player: SuperPlayer, block: mc.Block, blockFace: mc.Direction,
                  faceLocation: mc.Vector3, isFirstEvent: boolean)</span>​</td>
              <td>物品被用于方块时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onStartUse(player: SuperPlayer, useDuration: number)</span>​</td>
              <td>物品开始使用时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onStopUse(player: SuperPlayer, block: mc.Block)</span>​</td>
              <td>物品停止使用时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onItemRelease(player: SuperPlayer, useDuration: number)</span>​</td>
              <td>物品被释放时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">onItemComplete(player: SuperPlayer)</span>​</td>
              <td>物品使用完成时的逻辑。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getItem(): mc.ItemStack</span>​</td>
              <td>获取原生物品堆实例，如果不存在，返回<span data-type="code">undefined</span>​。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">clone(): mc.ItemStack</span>​</td>
              <td>创建物品堆的精确副本，包括任何自定义数据或属性。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getCanDestroy(): string[]</span>​</td>
              <td>获取物品可以破坏的方块类型列表。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getCanPlaceOn(): string[]</span>​</td>
              <td>获取物品可以放置的方块类型列表。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getComponent&lt;T extends keyof mc.ItemComponentTypeMap&gt;(componentId: T):
                  mc.ItemComponentTypeMap[T]&#124;undefined</span>​</td>
              <td>获取物品原生组件。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getComponents(): mc.ItemComponent[]</span>​</td>
              <td>获取物品堆的所有组件。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getDynamicProperty(identifier: string): boolean &#124; number &#124; string
                  &#124; mc.Vector3 &#124; undefined</span>​</td>
              <td>获取动态属性。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getDynamicPropertyIds(): string[]</span>​</td>
              <td>获取物品的所有动态属性标识符。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getDynamicPropertyTotalByteCount(): number</span>​</td>
              <td>获取物品所有动态属性的总字节大小。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getLore(): string[]</span>​</td>
              <td>获取物品的lore值（副显示字符串），如果物品没有lore，返回空数组。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getTags(): string[]</span>​</td>
              <td>获取物品的标签列表。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">hasComponent(componentId: string): boolean</span>​</td>
              <td>判断物品堆是否具有指定的组件。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">hasTag(tag: string): boolean</span>​</td>
              <td>判断物品堆是否有特定的标签。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">isStackableWith(itemStack: mc.ItemStack): boolean</span>​</td>
              <td>判断物品堆是否可以与给定的物品堆堆叠。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">matches(itemName: string, states?: Record&lt;string, boolean &#124; number
                  &#124; string&gt;): boolean</span>​</td>
              <td>匹配物品。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">setCanDestroy(blockIdentifiers?: string[]): void</span>​</td>
              <td>设置物品可以破坏的方块类型列表。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">setCanPlaceOn(blockIdentifiers?: string[]): void</span>​</td>
              <td>设置物品可以放置的方块类型列表。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">setDynamicProperty(identifier: string, value?: boolean &#124; number &#124;
                  string &#124; mc.Vector3): void</span>​</td>
              <td>设置动态属性。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">setLore(loreList?: string[]): void</span>​</td>
              <td>设置物品的lore值，如果传入<span data-type="code">undefined</span>​，清除lore列表。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">readCustomComponent()</span>​</td>
              <td>从存储中读取并加载自定义组件。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">saveCustomComponent()</span>​</td>
              <td>保存自定义组件到存储。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">addCustomComponent(identifier: string, options?: SuperComponentCreateOptions):
                  boolean</span>​</td>
              <td>添加一个新的自定义组件，如果添加成功，返回<span data-type="code">true</span>​。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">removeCustomComponent(identifier: string)</span>​</td>
              <td>移除一个自定义组件。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getCustomComponent&lt;C extends ItemSuperComponent&gt;(identifier: string): C
                  &#124; undefined</span>​</td>
              <td>获取一个自定义组件。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">getCustomComponents(): ItemSuperComponent[]</span>​</td>
              <td>获取所有自定义组件，如果没有组件，返回空数组。</td>
            </tr>
            <tr>
              <td>​<span data-type="code">clearDynamicProperties(): void</span>​</td>
              <td>清除物品的所有动态属性。</td>
            </tr>
          </tbody>
        </table>
        <div class="protyle-action__table">
          <div class="table__resize"></div>
          <div class="table__select"></div>
        </div>
      </div>
      <div class="protyle-attr" contenteditable="false"></div>
    </div>
  </div>
  <script src="appearance/icons/material/icon.js?3.1.9"></script>
  <script src="stage/build/export/protyle-method.js?3.1.9"></script>
  <script src="stage/protyle/js/lute/lute.min.js?3.1.9"></script>
  <script>
    window.siyuan = {
      config: {
        appearance: { mode: 0, codeBlockThemeDark: "base16/dracula", codeBlockThemeLight: "github" },
        editor: {
          codeLineWrap: true,
          fontSize: 16,
          codeLigatures: false,
          plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
          codeSyntaxHighlightLineNum: false,
          katexMacros: JSON.stringify({}),
        }
      },
      languages: { copy: "复制" }
    };
    const previewElement = document.getElementById('preview');
    Protyle.highlightRender(previewElement, "stage/protyle");
    Protyle.mathRender(previewElement, "stage/protyle", false);
    Protyle.mermaidRender(previewElement, "stage/protyle");
    Protyle.flowchartRender(previewElement, "stage/protyle");
    Protyle.graphvizRender(previewElement, "stage/protyle");
    Protyle.chartRender(previewElement, "stage/protyle");
    Protyle.mindmapRender(previewElement, "stage/protyle");
    Protyle.abcRender(previewElement, "stage/protyle");
    Protyle.htmlRender(previewElement);
    Protyle.plantumlRender(previewElement, "stage/protyle");
    document.querySelectorAll(".protyle-action__copy").forEach((item) => {
      item.addEventListener("click", (event) => {
        let text = item.parentElement.nextElementSibling.textContent.trimEnd();
        text = text.replace(/ /g, " "); // Replace non-breaking spaces with normal spaces when copying
        navigator.clipboard.writeText(text);
        event.preventDefault();
        event.stopPropagation();
      })
    });
  </script>
</body>

</html>